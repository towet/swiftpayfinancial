# ============================================
# SWIFTPAY ENVIRONMENT VARIABLES
# ============================================
# Copy this file to .env.local for development
# or import these variables in Vercel for production
# ============================================

# ============================================
# FRONTEND CONFIGURATION
# ============================================
VITE_API_URL=https://your-backend-url.com

# ============================================
# BACKEND CONFIGURATION
# ============================================
PORT=5000
NODE_ENV=production

# ============================================
# EMAIL NOTIFICATIONS (SMTP + Brevo API)
# ============================================
# Used by backend to send payment notifications
#
# Common ports:
# - 587 (STARTTLS) => SMTP_SECURE=false
# - 465 (SSL/TLS)  => SMTP_SECURE=true
SMTP_HOST=smtp-relay.brevo.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-brevo-smtp-login
SMTP_PASS=your-brevo-smtp-key
SMTP_FROM="SwiftPay Financial <no-reply@swiftpayfinancial.com>"
# Brevo HTTP API (preferred over SMTP)
BREVO_API_KEY=your-brevo-v3-api-key

# ============================================
# SUPABASE DATABASE CONFIGURATION
# ============================================
# Get these from: https://supabase.com/dashboard
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here
DATABASE_URL=postgresql://user:password@host:5432/database

# ============================================
# JWT AUTHENTICATION
# ============================================
# Generate a strong secret (minimum 32 characters)
# Use: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-32-chars

# ============================================
# M-PESA SANDBOX CONFIGURATION
# ============================================
# Get these from: https://developer.safaricom.co.ke
MPESA_CONSUMER_KEY=your-mpesa-consumer-key
MPESA_CONSUMER_SECRET=your-mpesa-consumer-secret
MPESA_BUSINESS_SHORT_CODE=your-business-short-code
MPESA_PASSKEY=your-mpesa-passkey
MPESA_ENVIRONMENT=sandbox

# ============================================
# M-PESA API ENDPOINTS (SANDBOX)
# ============================================
MPESA_ACCESS_TOKEN_URL=https://sandbox.safaricom.co.ke/oauth/v1/generate?grant_type=client_credentials
MPESA_STK_PUSH_URL=https://sandbox.safaricom.co.ke/mpesa/stkpush/v1/processrequest
MPESA_BALANCE_URL=https://sandbox.safaricom.co.ke/mpesa/accountbalance/v1/query
MPESA_TRANSACTION_STATUS_URL=https://sandbox.safaricom.co.ke/mpesa/transactionstatus/v1/query

# ============================================
# M-PESA PRODUCTION ENDPOINTS
# ============================================
# Uncomment these for production
# MPESA_ACCESS_TOKEN_URL=https://api.safaricom.co.ke/oauth/v1/generate?grant_type=client_credentials
# MPESA_STK_PUSH_URL=https://api.safaricom.co.ke/mpesa/stkpush/v1/processrequest
# MPESA_BALANCE_URL=https://api.safaricom.co.ke/mpesa/accountbalance/v1/query
# MPESA_TRANSACTION_STATUS_URL=https://api.safaricom.co.ke/mpesa/transactionstatus/v1/query

# ============================================
# CALLBACK CONFIGURATION
# ============================================
# M-Pesa will send payment confirmations to this URL
# For production: https://your-backend-url.com/api/mpesa/callback
CALLBACK_URL=https://your-backend-url.com

# ============================================
# CORS CONFIGURATION
# ============================================
# Frontend URL for CORS headers
FRONTEND_URL=https://your-frontend-url.com

# ============================================
# LOGGING & MONITORING (OPTIONAL)
# ============================================
LOG_LEVEL=info
SENTRY_DSN=

# ============================================
# INSTRUCTIONS FOR VERCEL DEPLOYMENT
# ============================================
# 1. Go to Vercel Project Settings
# 2. Click "Environment Variables"
# 3. Add each variable below:
#    - VITE_API_URL: Your backend URL
#    - SUPABASE_URL: Your Supabase project URL
#    - SUPABASE_ANON_KEY: Your Supabase anon key
#    - JWT_SECRET: Your JWT secret (min 32 chars)
#    - MPESA_CONSUMER_KEY: Your M-Pesa consumer key
#    - MPESA_CONSUMER_SECRET: Your M-Pesa consumer secret
#    - MPESA_BUSINESS_SHORT_CODE: Your business short code
#    - MPESA_PASSKEY: Your M-Pesa passkey
#    - MPESA_ENVIRONMENT: sandbox or production
#    - CALLBACK_URL: Your backend URL
#    - FRONTEND_URL: Your frontend URL
# 4. Click "Save"
# 5. Redeploy your project
